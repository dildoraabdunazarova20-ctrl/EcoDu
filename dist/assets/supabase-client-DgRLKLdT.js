import{createClient as c}from"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(r){if(r.ep)return;r.ep=!0;const t=a(r);fetch(r.href,t)}})();const u="https://qzgyvhhauhgyrfqygzdt.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6Z3l2aGhhdWhneXJmcXlnemR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0MzMxNjYsImV4cCI6MjA3ODAwOTE2Nn0.c9FlhqM2g9Zy0k4mbuDKvDUPVhf0LOFYv7jHx7eGx3M",n=c(u,l);async function d(){const{data:{user:o},error:e}=await n.auth.getUser();return e?(console.error("Error getting user:",e),null):o}async function p(o){const{data:e,error:a}=await n.from("profiles").select("*").eq("id",o).maybeSingle();return a?(console.error("Error fetching profile:",a),null):e}async function h(o,e,a){const{data:s,error:r}=await n.auth.signUp({email:o,password:e});if(r)throw r;if(s.user){const{error:t}=await n.from("profiles").insert([{id:s.user.id,name:a,bio:"",avatar_url:null}]);if(t)throw t}return s}async function m(o,e){const{data:a,error:s}=await n.auth.signInWithPassword({email:o,password:e});if(s)throw s;return a}async function g(){const{error:o}=await n.auth.signOut();if(o)throw o}async function y(o,e){const{data:a,error:s}=await n.from("profiles").update(e).eq("id",o).select().single();if(s)throw s;return a}async function I(o,e){const a=e.name.split(".").pop(),r=`avatars/${`${o}-${Math.random()}.${a}`}`,{error:t}=await n.storage.from("avatars").upload(r,e);if(t)throw t;const{data:{publicUrl:i}}=n.storage.from("avatars").getPublicUrl(r);return i}export{p as a,I as b,g as c,m as d,h as e,d as g,n as s,y as u};
